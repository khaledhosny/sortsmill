<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux (vers 25 March 2009), see www.w3.org" />
  <!-- Created with AOLpress/2.0 -->
  <!-- AP: Created on: 11-Feb-2001 -->
  <!-- AP: Last modified: 16-Apr-2004 -->
  <link rel="icon" href="fftype16.png" />

  <title>High level description of what each source file
  contains...</title>
  <link rel="stylesheet" type="text/css" href="FontForge.css" />
  <style type="text/css">
/*<![CDATA[*/
  p.c3 {text-align: center}
  h1.c2 {text-align: center}
  span.c1 {color: red}
  /*]]>*/
  </style>
</head>

<body>
  <div id="in">
    <h1 class="c2">High level description of what each source file
    contains...<span class="c1"><br />
    <small><small><strong>This page is grievously out of
    date</strong></small></small></span></h1>

    <ul>
      <li><a href="#Header">Header files</a></li>

      <li><a href="#Source">Source files</a></li>

      <li><a href=
      "http://bibliofile.duhs.duke.edu/gww/FreeWare/LibGUnicode/index.html">
      unicode library docs</a></li>

      <li><a href=
      "http://bibliofile.duhs.duke.edu/gww/FreeWare/LibGDraw/index.html">
      unicode widget docs</a></li>
    </ul>

    <h2><a name="Header" id="Header">Header Files</a></h2>

    <dl>
      <dt>edgelist.h</dt>

      <dd>This contains the data structures used by the rasterizer
      routines (splinefill.c), but it turns out that the same basic
      mechanism is used for a number of other things, autohint.c,
      splineoverlap.c, perhaps others.</dd>

      <dt>fontforge.h</dt>

      <dd>This is a general header which just includes other
      headers. Every source file in this directory should include
      it.</dd>

      <dt>fontforgeui.h</dt>

      <dd>Another general header file which includes others and
      defines a few global variables. All UI source files should
      include this.</dd>

      <dt>psfont.h</dt>

      <dd>These data structures are used by parsepfa.c as a
      temporary resting place for a postscript font before it gets
      converted into a SplineFont (splinefont.h) by calling
      SplineFontFromPSFont in splineutil.c</dd>

      <dt>splinefont.h</dt>

      <dd><a href="splinefont.html">This one contains all the basic
      data structures of the program.</a></dd>

      <dt>views.h</dt>

      <dd><a href="views.html">This contains the basic UI data
      structures.</a></dd>
    </dl>

    <h2><a name="Source" id="Source">Source Files</a></h2>

    <dl>
      <dt>autohint.c</dt>

      <dd>Contains the routines which guess at postscript
      hints.</dd>

      <dt>autosave.c</dt>

      <dd>Contains a few basic routines that handle autosaving, but
      most of the real work is done in sfd.c</dd>

      <dt>autowidth.c</dt>

      <dd>Guesses at good widths for characters and good kerning
      for them. Creates a dialog to get guidance from the user and
      the goes off and tries to guess reasonable values.</dd>

      <dt>bitmapdlg.c</dt>

      <dd>Handles the two dialogs for creating and recreating
      bitmaps. (The creating one creates an entire new bitmap font,
      the recreating one modifies an already existing font by
      regenerating the selected characters).</dd>

      <dt>bitmapview.c</dt>

      <dd>Does much of the basic work of the bitmap editor. Handles
      menus, events, etc.</dd>

      <dt>bvedit.c</dt>

      <dd>Some extra routines for editing bitmaps (bv =&gt;
      bitmapview). Handles floating selections, paste,
      translations, etc.</dd>

      <dt>charview.c</dt>

      <dd>Does the basic work for the spline glyph editor. Handles
      menus, events, dispatches mouse events to the appropriate
      tools, etc.</dd>

      <dt>charviewicons.c</dt>

      <dd>These are the icon resources for the images that appear
      in the info area of the spline editor above.</dd>

      <dt>cursors.c</dt>

      <dd>Defines the various cursors used.</dd>

      <dt>cvaddpoints.c</dt>

      <dd>Handles mouse events when the current tool is a point
      generator. charview.c will dispatch events to us. (cv =&gt;
      charview)</dd>

      <dt>cvexport.c</dt>

      <dd>The dialog to export data into a different format. Also
      (some of) the conversion routines for that format. (Also used
      to export xbm files from the bitmapview)</dd>

      <dt>cvgetinfo.c</dt>

      <dd>
        Contains the Get Info dispatcher and dialogs for the
        charview. There are several different types of info
        depending on the current selection and there's a dialog for
        each

        <ul>
          <li>A point is selected</li>

          <li>A reference to another character is selected (in the
          foreground)</li>

          <li>An image is selected (in the background)</li>

          <li>Or if more than one thing is (or no things are)
          selected, then general information on the character
          itself<br />
          This last is also used by the fontview.</li>
        </ul>
      </dd>

      <dt>cvhints.c</dt>

      <dd>A series of trivial little dialogs and commands that
      allow the user to set postscript hints manually.</dd>

      <dt>cvimages.c</dt>

      <dd>Contains code to import stuff into a CharView, BitmapView
      or FontView. Initially it was only images into the CharView,
      but it has grown beyond its name. CharViews can import Images
      (gif, png, tiff, jpeg, xbm, xpm, sun raster, windows bmp,
      ...) into the background of a CharView. I'd like to be able
      to do this from the clipboard, but I don't know whether
      there's a standard way of moving images around there. Also
      can import eps files (very restricted) and xfig (not too
      well). BitmapViews can only import images into their
      foreground. I think only bitmaps but I forget. FontViews can
      import bdf fonts into their list of bitmaps.</dd>

      <dt>cvknife.c</dt>

      <dd>The dispatch file for mouse events when the knife tool is
      selected.</dd>

      <dt>cvpalettes.c</dt>

      <dd>Handles the two palettes associated with a CharvView, and
      the two palettes for a BitmapView, and the Char and
      BitmapView popup menus.</dd>

      <dt>cvpointer.c</dt>

      <dd>The dispatch file for mouse events when the pointer tool
      is selected.</dd>

      <dt>cvruler.c</dt>

      <dd>The dispatch file for mouse events when the ruler tool is
      selected.</dd>

      <dt>cvshapes.c</dt>

      <dd>The dispatch file for mouse events when one of the shape
      tools (rectangle, ellipse, polygon, star) is selected.</dd>

      <dt>cvstroke.c</dt>

      <dd>The dialog for the expand stroke command. Also some of
      the routines which do the work. See also splinestroke.c</dd>

      <dt>cvtranstools.c</dt>

      <dd>The dispatch file for mouse events when one of the
      transform tools (scale, rotate, flip, skew) is selected.</dd>

      <dt>cvundoes.c</dt>

      <dd>Contains the routines that handle Undoes, Redoes and
      Copy/Paste for CharViews, BitmapViews and FontViews.</dd>

      <dt>dumpbdf.c</dt>

      <dd>Writes a bdf file.</dd>

      <dt>dumppfa.c</dt>

      <dd>Writes a postscript file. pfa, pfb, type3, type0. See
      also splinesave.c.</dd>

      <dt>fontinfo.c</dt>

      <dd>Contains the fontinfo dialog and the routines to reencode
      a font.</dd>

      <dt>fontview.c</dt>

      <dd>The main file for the fontview. Menu dispatcher, event
      handler. Basic Font level routines.</dd>

      <dt>fvcomposit.c</dt>

      <dd>The file that figures out how to build a composite
      character for you (ie. for Agrave will put a reference to A
      in your character, and a reference to grave and then will
      position the accent on top of A nicely). Operates on both the
      splines and the bitmaps.</dd>

      <dt>fvfonts.c</dt>

      <dd>Contains the dialogs and the functions for the Merge
      Fonts and Interpolate Fonts commands</dd>

      <dt>fvimportbdf.c</dt>

      <dd>The routine which reads in a bdf font. (note the font
      selection dialog is in cvimages.c)</dd>

      <dt>fvmetrics.c</dt>

      <dd>The dialog and routines for autowidth and autokern.</dd>

      <dt>images.c</dt>

      <dd>icon resources for the images used in the palettes.
      There's no good reason why this isn't merged in with
      charviewicons.c</dd>

      <dt>metricsview.c</dt>

      <dd>The main file for the metricsview. Menu dispatcher, event
      hander. Most of the functionality.</dd>

      <dt>print.c</dt>

      <dd>Handles the print and pagesetup dialogs.</dd>

      <dt>parsepfa.c</dt>

      <dd>Parses a postscript font. Doesn't get the encoding of a
      type0 font. Type3s are too free form for me to be able to
      interpret all (or even most?) of them. But we can at least
      read in the type3s we write out (unless they contain images).
      Some of the work also done in psread.c and splineutil.c</dd>

      <dt>parsettf.c</dt>

      <dd>Parses a TTF (or OTF) font file, and converts from
      quadratic Bézier to cubic Bézier (easy).</dd>

      <dt>prefs.c</dt>

      <dd>Preference dialog.</dd>

      <dt>psread.c</dt>

      <dd>This is our postscript interpreter for various flavors of
      postscript-- eps files, type3s, type1s, type2s, etc. It can't
      handle much.</dd>

      <dt>psunicodenames.c</dt>

      <dd>A list of all the adobe standard names for unicode
      characters in postscript. Any NULL entry in this array gets
      an algorithmically generated name uni%04X</dd>

      <dt>scripting.c</dt>

      <dd>All the routines to handle scripts</dd>

      <dt>savefontdlg.c</dt>

      <dd>Dialog and dispatcher for the Generate Fonts
      command.</dd>

      <dt>sfd.c</dt>

      <dd>Routines to write and read our spline font database
      format (<a href="sfdformat.html">sfd</a>). Also routines to
      handle autosave files which are basically just the bits of
      the font which have changed written out in sfd format with a
      few extra headers to say what these changes should be applied
      to.</dd>

      <dt>splashimage.c</dt>

      <dd>The resource containing the splash image.</dd>

      <dt>splinefill.c</dt>

      <dd>The routines that do rasterizing (and anti-aliasing).
      Also provides skeleton routines for autohinting, remove
      overlap, etc. which use a similar structure.</dd>

      <dt>splineoverlap.c</dt>

      <dd>The routines which implement the remove overlap
      command.</dd>

      <dt>splinesave.c</dt>

      <dd>Various helper routines when saving a postscript (and to
      a lesser extent TTF) font. Converts to type1 or type2
      commands. Figures out optimal referencing.</dd>

      <dt>splinesaveafm.c</dt>

      <dd>Generates an afm file.</dd>

      <dt>splinestroke.c</dt>

      <dd>More routines to handle expand stroke.</dd>

      <dt>splineutil.c</dt>

      <dd>A bunch of utility routines. Converts postscript type1
      strings into SplineChars. Figures bounding boxes. Handles
      updating references and dependencies. Figures linear
      approximations to splines for drawing. Figures clockwise,
      counter-clockwise. Guesses at good pointtypes when loading in
      postscript/ttf fonts. Copies SplinePointLists. Transforms
      SplinePointLists. Solves (approximates a solution) cubic
      equations. Finds points of inflection. Figures out if a point
      is "near" a spline.</dd>

      <dt>splineutil2.c</dt>

      <dd>More utility functions. Determines if a spline is linear
      (even if its control points aren't degenerate, we can still
      get spines which trace out a line, for instance if both
      control points are on the line between the to base points).
      Finds (approximates) the intersection of two splines.
      Aproximate a spline from a set of points (used by MergePoint,
      inserting a point onto a spline, and many other things). The
      Merge command itself. The Simplify command. Commands to
      remove tiny spline segments (these can confuse the Overlap
      routine, so we take them out before it does anything).
      Routine to create a new SplineFont. Routines to make sure the
      control points of tangent points continue to point in the
      right direction even when the point is moved. Routines to
      figure good default values for control points on new points
      (and on points where the user has not set the control points
      him/herself when that point is moved). Determines if any
      point on a path is selected. Reverses the direction of a
      closed path.</dd>

      <dt>stamp.c</dt>

      <dd>Time stamp of when I last built.</dd>

      <dt>stamper.c</dt>

      <dd>Program which generates time stamp. (stamp.c)</dd>

      <dt>start.c</dt>

      <dd>main routine. Initializes things and reads comand line
      arguments. Handles the splash screen. Top dispatcher for
      autosave.</dd>

      <dt>threaddummy.c</dt>

      <dd>contains a dummy pthread_create so I don't need to drag
      in pthreads when I'm not interested in that section of
      gio.</dd>

      <dt>tottf.c</dt>

      <dd>Saves a true type or open type font. see also
      splinesave.c for reference character optimization and for
      OpenType Type2 conversion routines.</dd>

      <dt>transform.c</dt>

      <dd>Transform dialog and dispatch routines.</dd>

      <dt>uiutil.c</dt>

      <dd>Utilities for the user interface.</dd>

      <dt>utils.c</dt>

      <dd>Hmm. this is blank.</dd>

      <dt>windowmenu.c</dt>

      <dd>Builds and dispatches the window menu.</dd>
    </dl>

    <p class="c3">-- <a href="files.html">Prev</a> -- <a href=
    "overview.html">TOC</a> -- <a href="sfdformat.html">Next</a>
    --</p>
  </div>
</body>
</html>
