<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux (vers 25 March 2009), see www.w3.org" />
  <!-- Created with AOLpress/2.0 -->
  <!-- AP: Created on: 14-Dec-2000 -->
  <!-- AP: Last modified: 10-Jul-2005 -->

  <title>Transform Dialog</title>
  <link rel="icon" href="fftype16.png" />
  <link rel="stylesheet" type="text/css" href="FontForge.css" />
  <style type="text/css">
/*<![CDATA[*/
  p.c4 {text-align: center}
  blockquote.c3 {font-style: italic}
  span.c2 {color: red}
  h1.c1 {text-align: center}
  /*]]>*/
  </style>
</head>

<body>
  <div id="in">
    <h1 class="c1">Transform Dialog</h1>

    <p><img src="transform.png" width="379" height="395" /></p>

    <p>This dialog is available in the font, outline and metrics
    views. In the font view it applies to all selected glyphs. In
    the outline view if there is a selection then it applies to
    that. if there is no selection then it applies to the entire
    glyph.</p>

    <p>You may choose whether you want the transformation to be
    centered at the glyph's origin, the center of the selection (or
    of the glyph as a whole if there is no selection), or the
    location of the last point on which you clicked the mouse.</p>

    <p>You may apply several different transformations at once:</p>

    <dl>
      <dt>Do Nothing</dt>

      <dd>A very simple transformation.</dd>

      <dt>Move</dt>

      <dd>You may move the selection an arbitrary amount in the x
      and y directions</dd>

      <dt>Rotate</dt>

      <dd>You may rotate the selection an arbitrary number of
      degrees.</dd>

      <dt>Scale</dt>

      <dd>You may scale the two coordinates differently</dd>

      <dt>Scale Uniformly</dt>

      <dd>You may scale the two coordinates the same amount (which
      can of course be done above, but it's slightly easier only to
      set one number).</dd>

      <dt>Flip</dt>

      <dd>You may flip either horizontally or
      vertically<span class="c2"><br />
      <strong>Note: After flipping an outline you will almost
      certainly want to apply <a href=
      "elementmenu.html#Correct">Element-&gt;Correct
      Direction</a>.</strong></span></dd>

      <dt>Skew</dt>

      <dd>You may skew the selection a certain number of degrees
      (to create an oblique font for example).</dd>

      <dt>Rotate 3D Around...</dt>

      <dd>You may do a three dimensional rotation of the glyph
      around either the X axis or the Y axis. This operation is
      immediately followed by a projection of the result back into
      the xy-plane (A rotation around the Z axis is a normal
      rotaton (and isn't included here).<br />
      Following the rotation by a projection produces the same
      results no matter what the sign of the angle (so there are no
      Clockwise/CounterClockwise options here).</dd>

      <dt>Move by Ruler</dt>

      <dd>Fill in the amount to move from the x and y offsets of
      the last measurements made with the <a href=
      "charview.html#Ruler">ruler tool</a>.</dd>

      <dt>Rotate by Ruler</dt>

      <dd>Fill in the rotation angle from the angle of the last
      measurements made with the <a href=
      "charview.html#Ruler">ruler tool</a>.</dd>

      <dt>Skew by Ruler</dt>

      <dd>Fill in the skew angle from the angle of the last
      measurements made with the <a href=
      "charview.html#Ruler">ruler tool</a>.</dd>
    </dl>

    <p>If you are in the font view, and if <a href=
    "editmenu.html#From">Copy From</a> is set to all fonts, then
    the transformation will also be applied to the bitmaps. Not all
    of these transforms can be mapped to ones on the bitmap font
    (arbitrary rotations, scales, etc. do not map). Only rotations
    by 90 degrees, flips, skews and moves will be approximated on
    the bitmap glyphs.</p>

    <p>If you are in the font view, then any pair-wise kerning
    information whose first glyph is selected will be scaled (but
    not translated) by the transformation matrix. Similarly and
    simple positioning features that apply to a selected glyph will
    be transformed by the matrix (but again not translated). You
    may choose to scale kerning classes as well.</p>

    <p>If you are in the font view or the outline view and there is
    no selection (and you are in the foreground) there is a "[]
    Transform Background Too" check box. If you check this then
    anything in the background will be transformed with the
    foreground.</p>

    <p>If you check [] Round to Int then after the transformation
    has been applied everything will be rounded to an integer
    value.</p>

    <p>Transformations in the Outline glyph view are not applied to
    any bitmaps. (Nor are transformations in the bitmap window
    mapped back to the outline).</p>

    <h2><a name="Non-Linear" id="Non-Linear">Non-Linear</a>
    Transformations</h2>

    <p><img src="non-linear.png" width="282" height="166" align=
    "right" />Non-linear transformations are defined by providing
    two expressions, one of which results in the transformed value
    for the X coordinate, the other provides the y coordinate. In
    the example at right:</p>

    <blockquote class="c3">
      x' = 5·x<sup>2</sup> + x + 3·sin(y)<br />
      y' = y
    </blockquote>

    <p>Expressions may be made up of the usual C operators: "+",
    "-", "*", "/", "%", "!", "==", "&lt;", "&gt;", "&lt;=",
    "&gt;=", "!=", "&amp;&amp;", "||" and "? :" as well as "^"
    which means "raise to the power of". They may also contain the
    standard functions: "log", "exp", "sqrt", "sin", "cos", "tan",
    "atan2", "abs", "rint", "floor", "ceil".</p>

    <p>Note: In non-linear transformations the result is only an
    approximation to the correct result (A linear transformation
    will transform a cubic spline to another cubic spline. A
    non-linear transformation may not).</p>

    <h2><img src="PoV.png" width="337" height="331" align=
    "right" /><a name="PoV" id="PoV">Point of View
    Projection</a></h2>

    <p>I have a hard time describing this. There are three
    different coordinate systems involved. There is the (2D)
    coordinate system in which your glyph has been drawn. There is
    a 3D coordinate system in which we embed it, and finally there
    is another 2D coordinate system onto which we project it.</p>

    <p>Assume your eye is at the origin of 3 space, and you are
    looking up along the Z axis. Assume that the plane in which
    your glyph has been drawn is tilted by an angle theta (from the
    XY plane in 3 space) and the intersection between the Z axis
    and the drawing plane is z units along the Z axis. Assume that
    the projection plane is parallel to the XY plane and is at a
    distance d along the Z axis.</p>

    <p><img src="Bperspective.png" width="186" height="180" align=
    "left" />Then for each point in the glyph we draw a line
    between that point and your eye (which is at the origin). The
    location where that line intersects the projection plane is the
    transformed location of that point. Again the result is only an
    approximation.</p>

    <p>The Point Of View dialog gives you a little more freedom
    than is described above. It allows you to set the location of
    the eye (instead of fixing it at the origin), and allows you to
    change in what direction the vanishing point will lie (instead
    of fixing it on the y axis).</p>

    <p>The dialog also calculates the location of the vanishing
    point as you change fields (Note: It cannot figure out meta
    information like "Center of Selection", so whenever the eye is
    positioned with this value, it just assumes a value of 0 for
    that coordinate.</p>

    <p class="c4">-- <a href="elementmenu.html">Prev</a> --
    <a href="overview.html">TOC</a> -- <a href=
    "elementmenu.html">Next</a> --</p>
  </div>
</body>
</html>
