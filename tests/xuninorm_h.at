# -*- coding: utf-8 -*-

m4_defun([check_xuninorm_h],
[
AT_SETUP([$1])
AT_KEYWORDS([auxiliary xuninorm.c xuninorm.h xunistring.h unit])
AT_SKIP_IF([test x"${utf8_locale}" = x])
AT_CHECK_UNQUOTED([LC_ALL="${utf8_locale}" LANGUAGE="${utf8_locale}" "${abs_builddir}"/$1],[$2],[$3],[$4])
AT_CLEANUP
])

check_xuninorm_h([test_xuninorm_h a b],[0],[a|b,a|b,a|b,a|b,-1|-1|-1,],[])
check_xuninorm_h([test_xuninorm_h a a],[0],[a|a,a|a,a|a,a|a,0|0|0,],[])
check_xuninorm_h([test_xuninorm_h c b],[0],[c|b,c|b,c|b,c|b,1|1|1,],[])

# These should compare as equal: ‘ĉ’ is an Esperanto letter ‘cho’, and
# ‘ĉ’ is the letter c followed by a combining circumflex.
check_xuninorm_h([test_xuninorm_h ĉ ĉ],[0],[ĉ|ĉ,ĉ|ĉ,ĉ|ĉ,ĉ|ĉ,0|0|0,],[])
